pre-push:
  parallel: true
  commands:
    run-tests:
      run: npm test

pre-commit:
  parallel: true
  commands:
    lint:
      run: npx lint-staged

commit-msg:
  commands:
    commitlint:
      run: |
        # Skip commitlint if running in CI
        if [[ "$CI" == "true" ]]; then
          echo "Skipping commitlint in CI environment."
          exit 0
        fi
        npx commitlint --edit $GIT_PARAMS
